<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }

      #map {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script type="module">
      import maplibregl from "https://esm.run/maplibre-gl@3";
      import style from "./style.js";
      var map = new maplibregl.Map({
        container: "map",
        style: {
          version: 8,
          sources: {
            protomaps: {
              type: "vector",
              url: "https://api.protomaps.com/tiles/v3.json?key=7ca4bfea27e9579c",
            },
            trainlines: {
              type: "geojson",
              data: "out.geojson",
              tolerance: 0,
            },
          },
          layers: style,
          glyphs: "https://cdn.protomaps.com/fonts/pbf/{fontstack}/{range}.pbf",
        },
        center: [-60, 50], // starting position [lng, lat]
        zoom: 2.8, // starting zoom
      });
    </script>
  </body>
</html>
